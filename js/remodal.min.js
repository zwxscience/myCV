!(function(A,B){if(typeof define==="function"&&define.amd){define(["jquery"],function(C){return B(A,C)})}else{if(typeof exports==="object"){B(A,require("jquery"))}else{B(A,A.jQuery||A.Zepto)}}})(this,function(N,W){var O="remodal";var C=N.REMODAL_GLOBALS&&N.REMODAL_GLOBALS.NAMESPACE||O;var K=W.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(Y){return Y+"."+C}).join(" ");var I=W.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(Y){return Y+"."+C}).join(" ");var P=W.extend({hashTracking:true,closeOnConfirm:true,closeOnCancel:true,closeOnEscape:true,closeOnOutsideClick:true,modifier:""},N.REMODAL_GLOBALS&&N.REMODAL_GLOBALS.DEFAULTS);var H={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"};var L={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"};var D=(function(){var Y=document.createElement("div").style;return Y.animationName!==undefined||Y.WebkitAnimationName!==undefined||Y.MozAnimationName!==undefined||Y.msAnimationName!==undefined||Y.OAnimationName!==undefined})();var F=/iPad|iPhone|iPod/.test(navigator.platform);var J;var B;function S(c){if(D&&c.css("animation-name")==="none"&&c.css("-webkit-animation-name")==="none"&&c.css("-moz-animation-name")==="none"&&c.css("-o-animation-name")==="none"&&c.css("-ms-animation-name")==="none"){return 0}var a=c.css("animation-duration")||c.css("-webkit-animation-duration")||c.css("-moz-animation-duration")||c.css("-o-animation-duration")||c.css("-ms-animation-duration")||"0s";var Y=c.css("animation-delay")||c.css("-webkit-animation-delay")||c.css("-moz-animation-delay")||c.css("-o-animation-delay")||c.css("-ms-animation-delay")||"0s";var d=c.css("animation-iteration-count")||c.css("-webkit-animation-iteration-count")||c.css("-moz-animation-iteration-count")||c.css("-o-animation-iteration-count")||c.css("-ms-animation-iteration-count")||"1";var Z;var e;var b;var f;a=a.split(", ");Y=Y.split(", ");d=d.split(", ");for(f=0,e=a.length,Z=Number.NEGATIVE_INFINITY;f<e;f++){b=parseFloat(a[f])*parseInt(d[f],10)+parseFloat(Y[f]);if(b>Z){Z=b}}return b}function E(){if(W(document.body).height()<=W(window).height()){return 0}var Y=document.createElement("div");var b=document.createElement("div");var a;var Z;Y.style.visibility="hidden";Y.style.width="100px";document.body.appendChild(Y);a=Y.offsetWidth;Y.style.overflow="scroll";b.style.width="100%";Y.appendChild(b);Z=b.offsetWidth;Y.parentNode.removeChild(Y);return a-Z}function Q(){if(F){return}var a=W("html");var Z=A("is-locked");var Y;var b;if(!a.hasClass(Z)){b=W(document.body);Y=parseInt(b.css("padding-right"),10)+E();b.css("padding-right",Y+"px");a.addClass(Z)}}function T(){if(F){return}var a=W("html");var Z=A("is-locked");var Y;var b;if(a.hasClass(Z)){b=W(document.body);Y=parseInt(b.css("padding-right"),10)-E();b.css("padding-right",Y+"px");a.removeClass(Z)}}function U(Y,d,c,a){var b=A("is",d);var Z=[A("is",H.CLOSING),A("is",H.OPENING),A("is",H.CLOSED),A("is",H.OPENED)].join(" ");Y.$bg.removeClass(Z).addClass(b);Y.$overlay.removeClass(Z).addClass(b);Y.$wrapper.removeClass(Z).addClass(b);Y.$modal.removeClass(Z).addClass(b);Y.state=d;!c&&Y.$modal.trigger({type:d,reason:a},[{reason:a}])}function M(c,b,Z){var d=0;var Y=function(f){if(f.target!==this){return}d++};var a=function(f){if(f.target!==this){return}if(--d===0){W.each(["$bg","$overlay","$wrapper","$modal"],function(g,e){Z[e].off(K+" "+I)});b()}};W.each(["$bg","$overlay","$wrapper","$modal"],function(f,e){Z[e].on(K,Y).on(I,a)});c();if(S(Z.$bg)===0&&S(Z.$overlay)===0&&S(Z.$wrapper)===0&&S(Z.$modal)===0){W.each(["$bg","$overlay","$wrapper","$modal"],function(f,e){Z[e].off(K+" "+I)});b()}}function R(Y){if(Y.state===H.CLOSED){return}W.each(["$bg","$overlay","$wrapper","$modal"],function(a,Z){Y[Z].off(K+" "+I)});Y.$bg.removeClass(Y.settings.modifier);Y.$overlay.removeClass(Y.settings.modifier).hide();Y.$wrapper.hide();T();U(Y,H.CLOSED,true)}function V(b){var Z={};var c;var d;var a;var Y;b=b.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",");c=b.split(",");for(Y=0,d=c.length;Y<d;Y++){c[Y]=c[Y].split(":");a=c[Y][1];if(typeof a==="string"||a instanceof String){a=a==="true"||(a==="false"?false:a)}if(typeof a==="string"||a instanceof String){a=!isNaN(a)?+a:a}Z[c[Y][0]]=a}return Z}function A(){var Z=C;for(var Y=0;Y<arguments.length;++Y){Z+="-"+arguments[Y]}return Z}function X(){var b=location.hash.replace("#","");var Y;var Z;if(!b){if(J&&J.state===H.OPENED&&J.settings.hashTracking){J.close()}}else{try{Z=W("[data-"+O+'-id="'+b+'"]')}catch(a){}if(Z&&Z.length){Y=W[O].lookup[Z.data(O)];if(Y&&Y.settings.hashTracking){Y.open()}}}}function G(Y,a){var b=W(document.body);var Z=this;Z.settings=W.extend({},P,a);Z.index=W[O].lookup.push(Z)-1;Z.state=H.CLOSED;Z.$overlay=W("."+A("overlay"));if(!Z.$overlay.length){Z.$overlay=W("<div>").addClass(A("overlay")+" "+A("is",H.CLOSED)).hide();b.append(Z.$overlay)}Z.$bg=W("."+A("bg")).addClass(A("is",H.CLOSED));Z.$modal=Y.addClass(C+" "+A("is-initialized")+" "+Z.settings.modifier+" "+A("is",H.CLOSED)).attr("tabindex","-1");Z.$wrapper=W("<div>").addClass(A("wrapper")+" "+Z.settings.modifier+" "+A("is",H.CLOSED)).hide().append(Z.$modal);b.append(Z.$wrapper);Z.$wrapper.on("click."+C,"[data-"+O+'-action="close"]',function(c){c.preventDefault();Z.close()});Z.$wrapper.on("click."+C,"[data-"+O+'-action="cancel"]',function(c){c.preventDefault();Z.$modal.trigger(L.CANCELLATION);if(Z.settings.closeOnCancel){Z.close(L.CANCELLATION)}});Z.$wrapper.on("click."+C,"[data-"+O+'-action="confirm"]',function(c){c.preventDefault();Z.$modal.trigger(L.CONFIRMATION);if(Z.settings.closeOnConfirm){Z.close(L.CONFIRMATION)}});Z.$wrapper.on("click."+C,function(c){var d=W(c.target);if(!d.hasClass(A("wrapper"))){return}if(Z.settings.closeOnOutsideClick){Z.close()}})}G.prototype.open=function(){var Y=this;var Z;if(Y.state===H.OPENING||Y.state===H.CLOSING){return}Z=Y.$modal.attr("data-"+O+"-id");if(Z&&Y.settings.hashTracking){B=W(window).scrollTop();location.hash=Z}if(J&&J!==Y){R(J)}J=Y;Q();Y.$bg.addClass(Y.settings.modifier);Y.$overlay.addClass(Y.settings.modifier).show();Y.$wrapper.show().scrollTop(0);Y.$modal.focus();M(function(){U(Y,H.OPENING)},function(){U(Y,H.OPENED)},Y);needscrollPage=false};G.prototype.close=function(Z){var Y=this;if(Y.state===H.OPENING||Y.state===H.CLOSING){return}if(Y.settings.hashTracking&&Y.$modal.attr("data-"+O+"-id")===location.hash.substr(1)){location.hash="";W(window).scrollTop(B)}M(function(){U(Y,H.CLOSING,false,Z)},function(){Y.$bg.removeClass(Y.settings.modifier);Y.$overlay.removeClass(Y.settings.modifier).hide();Y.$wrapper.hide();T();U(Y,H.CLOSED,false,Z)},Y);needscrollPage=true};G.prototype.getState=function(){return this.state};G.prototype.destroy=function(){var Y=W[O].lookup;var Z;R(this);this.$wrapper.remove();delete Y[this.index];Z=W.grep(Y,function(a){return !!a}).length;if(Z===0){this.$overlay.remove();this.$bg.removeClass(A("is",H.CLOSING)+" "+A("is",H.OPENING)+" "+A("is",H.CLOSED)+" "+A("is",H.OPENED))}};W[O]={lookup:[]};W.fn[O]=function(Y){var Z;var a;this.each(function(c,b){a=W(b);if(a.data(O)==null){Z=new G(a,Y);a.data(O,Z.index);if(Z.settings.hashTracking&&a.attr("data-"+O+"-id")===location.hash.substr(1)){Z.open()}}else{Z=W[O].lookup[a.data(O)]}});return Z};W(document).ready(function(){W(document).on("click","[data-"+O+"-target]",function(Y){Y.preventDefault();var Z=Y.currentTarget;var b=Z.getAttribute("data-"+O+"-target");var a=W("[data-"+O+'-id="'+b+'"]');W[O].lookup[a.data(O)].open()});W(document).find("."+C).each(function(Y,a){var b=W(a);var Z=b.data(O+"-options");if(!Z){Z={}}else{if(typeof Z==="string"||Z instanceof String){Z=V(Z)}}b[O](Z)});W(document).on("keydown."+C,function(Y){if(J&&J.settings.closeOnEscape&&J.state===H.OPENED&&Y.keyCode===27){J.close()}});W(window).on("hashchange."+C,X)})});